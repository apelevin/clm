# Описание функциональности системы анализа договоров

## Обзор

Система автоматически анализирует текст договора и извлекает структурированную информацию, которая помогает пользователям быстро понять суть договора, свои права и обязанности, а также возможные действия.

## Что система выделяет из договора

### 1. Основная информация о договоре

Система автоматически извлекает ключевые данные:

- **Номер договора** — идентификационный номер документа
- **Дата заключения** — когда был подписан договор
- **Место заключения** — город, где был заключен договор
- **Стороны договора** — кто является заказчиком и исполнителем (с полными и краткими наименованиями)
- **Сумма договора** — общая стоимость с указанием валюты
- **Предмет договора** — краткое описание того, что является предметом договора (услуги, работы, товары)

**Зачем это нужно:** Пользователь сразу видит всю ключевую информацию о договоре в структурированном виде, не нужно искать её по тексту.

---

### 2. Действия, которые можно выполнить

Система выделяет все действия, которые стороны могут выполнять в рамках договора. Каждое действие представлено в форме ответа на вопрос "Что сделать?":

**Примеры действий:**
- Оплатить услуги
- Назначить специалиста
- Рассмотреть материалы
- Подписать акт
- Расторгнуть договор
- Приостановить выполнение работ

**Для каждого действия показывается:**
- **Описание** — что именно нужно сделать
- **Для кого** — заказчик, исполнитель или обе стороны
- **Доступность** — можно ли выполнить действие сейчас или нет
- **Связанные пункты договора** — ссылки на конкретные разделы договора
- **Источник в тексте** — возможность посмотреть, где в договоре это описано

**Приоритет действий:**
- **Основные действия** — регулярные действия, связанные с предметом договора (например, оплата, приемка работ)
- **Второстепенные действия** — действия при редких событиях (расторжение, форс-мажор, нарушения)

**Зачем это нужно:** Пользователь видит все доступные действия в одном месте, понимает, что нужно делать и когда это можно сделать. Особенно полезно для заказчика — видит все свои возможности в рамках договора.

---

### 3. Ключевые положения договора

Система автоматически выделяет важные условия договора и группирует их по категориям:

**Категории положений:**
- **Сроки** — дедлайны, периоды выполнения, даты
- **Оплата** — условия оплаты, суммы, графики платежей
- **Ответственность** — штрафы, пени, неустойки, возмещение ущерба
- **Гарантии** — гарантийные обязательства, обеспечение исполнения
- **Приемка** — условия приемки работ, подписания актов
- **Расторжение** — условия расторжения договора
- **Форс-мажор** — обстоятельства непреодолимой силы
- **Конфиденциальность** — условия неразглашения информации
- **Разрешение споров** — порядок урегулирования конфликтов
- **Изменение договора** — процедуры внесения изменений
- И другие категории в зависимости от содержания договора

**Для каждого положения показывается:**
- **Заголовок** — краткое название положения
- **Содержание** — суть условия
- **Категория** — к какой группе относится положение
- **Для кого** — заказчик, исполнитель или обе стороны
- **Связанные пункты договора** — ссылки на разделы договора
- **Источник в тексте** — возможность посмотреть оригинальный текст

**Приоритет положений:**
- **Основные положения** — ключевые условия (предмет договора, суммы, сроки, регулярные обязательства)
- **Второстепенные положения** — условия при редких событиях (форс-мажор, процедуры разрешения споров)

**Зачем это нужно:** Пользователь быстро находит нужную информацию по категориям, понимает свои обязательства и права. Не нужно читать весь договор целиком — система уже выделила самое важное.

---

### 4. Финансовые обязательства

Система детально извлекает всю информацию о платежах по договору:

**Для каждого финансового обязательства показывается:**
- **Кто платит** — заказчик или исполнитель
- **Кому платит** — заказчику или исполнителю
- **За что платит** — назначение платежа (оплата услуг, предоплата, штраф и т.д.)
- **Сумма** — может быть:
  - Фиксированная сумма (например, 1 000 000 рублей)
  - Процент (например, 10% от суммы договора)
  - Рассчитываемая по формуле (например, 0.1% за каждый день просрочки)
- **График платежей** — может быть:
  - Разовый платеж (одна дата)
  - Рассрочка (несколько платежей с указанием сумм и сроков)
  - По этапам (платежи при достижении определенных этапов)
  - Периодические платежи (ежемесячно, ежеквартально и т.д.)
- **Условия оплаты** — предоплата, постоплата, гарантии, залог и т.д.
- **Связанные пункты договора** — ссылки на разделы договора
- **Источник в тексте** — возможность посмотреть оригинальный текст

**Группировка:**
- Обязательства заказчика (что должен заплатить заказчик)
- Обязательства исполнителя (что должен заплатить исполнитель)

**Зачем это нужно:** Пользователь видит полную картину финансовых обязательств — кто, кому, сколько и когда должен платить. Особенно важно для планирования бюджета и контроля платежей.

---

### 5. Состояния договора

Система определяет возможные состояния, в которых может находиться договор в зависимости от текущей ситуации:

**Примеры состояний:**
- Договор выполняется
- Просрочен контракт
- Уступлены обязательства
- Приостановлен
- Расторгнут
- На стадии приемки
- Ожидается оплата
- Требуется устранение недостатков

**Для каждого состояния показывается:**
- **Название состояния** — краткое описание
- **Описание** — детальное объяснение состояния (если есть)
- **Источник в тексте** — возможность посмотреть, где в договоре это описано

**Функциональность:**
- Пользователь может отметить чекбоксами, в каких состояниях находится договор в данный момент
- На основе выбранных состояний система автоматически фильтрует действия и обязательства, показывая только те, которые релевантны текущей ситуации
- Выбранные состояния сохраняются в сессии

**Зачем это нужно:** Пользователь может указать текущую ситуацию с договором, и система покажет только те действия и обязательства, которые актуальны в данный момент. Это помогает не отвлекаться на неактуальную информацию.

---

## Дополнительные возможности

### Фильтрация и поиск

**Фильтр по категориям обязательств:**
- Можно выбрать конкретную категорию (например, только "Оплата" или только "Сроки")
- Система покажет только положения из выбранной категории

**Фильтр по сторонам:**
- Можно выбрать, для кого показывать обязательства: заказчик, исполнитель или обе стороны
- Работает в сочетании с фильтром по категориям

**Фильтр по состояниям:**
- При выборе состояний договора автоматически фильтруются действия и обязательства
- Показываются только те элементы, которые релевантны выбранным состояниям

### Связь с оригинальным текстом

Для каждого элемента (действие, положение, обязательство, состояние) есть возможность:
- Посмотреть источник в тексте — система подсветит соответствующие параграфы в оригинальном тексте договора
- Увидеть связанные пункты договора — ссылки на конкретные разделы и подразделы

**Зачем это нужно:** Пользователь всегда может вернуться к оригинальному тексту договора, чтобы увидеть полный контекст или уточнить детали.

---

## Преимущества для пользователя

1. **Экономия времени** — не нужно читать весь договор целиком, система уже выделила самое важное
2. **Структурированность** — вся информация организована по категориям и типам
3. **Актуальность** — можно фильтровать информацию по текущей ситуации
4. **Прозрачность** — всегда видно источник информации в оригинальном тексте
5. **Удобство** — все действия и обязательства представлены в понятном виде
6. **Ориентация на заказчика** — интерфейс показывает информацию с точки зрения заказчика, выделяя его действия и обязательства

---

## Примеры использования

**Сценарий 1: Новый договор**
Пользователь загружает договор и сразу видит:
- Основную информацию (номер, дата, стороны, сумма)
- Предмет договора
- Все свои действия (что можно сделать)
- Финансовые обязательства (сколько и когда платить)
- Ключевые условия (сроки, ответственность и т.д.)

**Сценарий 2: Контроль выполнения**
Пользователь отмечает состояние "Договор выполняется" и видит:
- Только актуальные действия (например, "Оплатить услуги", "Рассмотреть материалы")
- Только релевантные обязательства
- Не видит информацию о расторжении или форс-мажоре (если они не актуальны)

**Сценарий 3: Поиск конкретной информации**
Пользователь выбирает фильтр "Оплата" и видит:
- Все положения, связанные с оплатой
- Все финансовые обязательства
- Все действия, связанные с оплатой

---

## Технические детали (для справки)

- Система использует искусственный интеллект для анализа текста договора
- Анализ происходит автоматически при загрузке документа
- Результаты сохраняются в сессии браузера
- Система работает с текстовыми файлами (.txt) и прямым вводом текста

